<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sgworld.infra.modules.admin.avatar.AdminAvatarMapper">
	<resultMap id="resultMapObj" type="com.sgworld.infra.modules.admin.avatar.AvatarDto"></resultMap>
	
	
	<select id="selectOneCount" resultType="Integer">
		SELECT COUNT(*)
	<!-- 	<include refid="selectCommon" /> -->
	</select>
	
	<select id="selectOne" resultMap="resultMapObj">
		SELECT		
			a.*
			,b.infrMmNickname
		FROM board a
		JOIN infrMember b on a.infrMmSeq = b.infrMmSeq
		WHERE 1=1
			AND bdSeq = #{bdSeq}
	</select>
	
	<!-- 업로드 관련 -->
 	<select id="selectListUploaded" resultMap="resultMapObj">
		SELECT 
			seq
			,type
			,defaultNy
			,sort
			,path
			,originalName
			,uuidName
		FROM sgworld.sgWorldMapUploaded
		WHERE 1=1
			AND delNy = 0
			AND pseq = #{bdSeq}
		ORDER BY
			type, sort
	</select>
</mapper>